<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Penyebaran Data Bandar Lampung</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </head>
  <style>
    html,
    body { height: 100%; margin: 0; }
    .form { width: 500px; }
    @media (max-width: 510px) {
      .form { width: 350px }
    }
  </style>
  <body>
    <div class="justify-content-center align-items-center bg-primary" style="height: 100%; width: 100%; display: flex">
      <form class="border rounded px-lg-5 py-lg-4 p-3 bg-white form" onsubmit="signup(event)">
        <!-- Label -->
        <div class="text-center">
          <div class="fs-3 fw-bold text-primary mb-4">Register</div>
        </div>

        <!-- Email input -->
        <div class="form-outline mb-4">
          <label class="form-label" for="form2Example1">Email address</label>
          <input type="email" id="email" class="form-control" required />
        </div>

        <!-- Password input -->
        <div class="form-outline mb-4">
          <label class="form-label" for="form2Example2">Password</label>
          <input type="password" id="password" minlength="6" class="form-control" required />
        </div>

        <!-- Submit button -->
        <div class="text-center">
          <button class="btn btn-primary btn-block mb-4 px-4">Submit</button>
        </div>

        <!-- Register buttons -->
        <div class="text-center">
          <p>
            Sudah Punya Akun ?
            <a href="login.html" class="text-decoration-none">Kembali Login</a>
          </p>
        </div>
      </form>
    </div>
  </body>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDhcMS7Dm1Yecqf5WUKU5egjVCiVbNXcZM",
      authDomain: "web-data-bdl.firebaseapp.com",
      projectId: "web-data-bdl",
      storageBucket: "web-data-bdl.appspot.com",
      messagingSenderId: "878165904932",
      appId: "1:878165904932:web:377e30811b9295d7c112b1",
      measurementId: "G-EFP373DR83",
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    window.signup = function (e) {
      e.preventDefault();

      var obj = { email: email.value, password: password.value, };

      createUserWithEmailAndPassword(auth, obj.email, obj.password)
        .then((userCredential) => { alert("Berhasil Registrasi") })
        .catch((error) => { alert(error) });
    };
  </script>
</html>
